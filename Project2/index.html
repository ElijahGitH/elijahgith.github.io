<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe (1v1)</title>
  </head>

  <body>
    <header>
      <h1>Tic Tac Toe (1v1)</h1>
      <p id="status" aria-live="polite">Player X's turn</p>
    </header>

    <main>
      <section aria-label="Tic Tac Toe board">
        <div id="board" role="grid" aria-label="3 by 3 game board">
          <button class="cell" type="button" role="gridcell" aria-label="Row 1 Column 1" data-index="0"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 1 Column 2" data-index="1"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 1 Column 3" data-index="2"></button>

          <button class="cell" type="button" role="gridcell" aria-label="Row 2 Column 1" data-index="3"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 2 Column 2" data-index="4"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 2 Column 3" data-index="5"></button>

          <button class="cell" type="button" role="gridcell" aria-label="Row 3 Column 1" data-index="6"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 3 Column 2" data-index="7"></button>
          <button class="cell" type="button" role="gridcell" aria-label="Row 3 Column 3" data-index="8"></button>
        </div>
      </section>

      <section aria-label="Game controls">
        <button id="reset" type="button">Reset Game</button>
      </section>

      <figure aria-label="Project illustration">
        <img
          alt="Tic Tac Toe board illustration"
          src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="200" viewBox="0 0 320 200"><rect width="320" height="200" fill="white"/><rect x="80" y="20" width="160" height="160" fill="none" stroke="black" stroke-width="4"/><line x1="133.33" y1="20" x2="133.33" y2="180" stroke="black" stroke-width="4"/><line x1="186.66" y1="20" x2="186.66" y2="180" stroke="black" stroke-width="4"/><line x1="80" y1="73.33" x2="240" y2="73.33" stroke="black" stroke-width="4"/><line x1="80" y1="126.66" x2="240" y2="126.66" stroke="black" stroke-width="4"/><text x="98" y="60" font-size="28" font-family="Arial">X</text><text x="206" y="112" font-size="28" font-family="Arial">O</text><text x="150" y="165" font-size="28" font-family="Arial">X</text></svg>'
        />
        <figcaption>A simple 3x3 board for two-player gameplay.</figcaption>
      </figure>
    </main>

    <script>
      (function () {
        const cells = Array.from(document.querySelectorAll(".cell"));
        const statusEl = document.getElementById("status");
        const resetBtn = document.getElementById("reset");

        let board = Array(9).fill("");
        let currentPlayer = "X";
        let gameOver = false;

        const winningLines = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8],
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8],
          [0, 4, 8],
          [2, 4, 6],
        ];

        function setStatus(text) {
          statusEl.textContent = text;
        }

        function checkWinner() {
          for (const [a, b, c] of winningLines) {
            if (board[a] && board[a] === board[b] && board[a] === board[c]) {
              return board[a];
            }
          }
          return null;
        }

        function isDraw() {
          return board.every((v) => v !== "");
        }

        function handleMove(index) {
          if (gameOver || board[index]) return;

          board[index] = currentPlayer;
          cells[index].textContent = currentPlayer;

          const winner = checkWinner();
          if (winner) {
            gameOver = true;
            setStatus(`Player ${winner} wins!`);
            return;
          }

          if (isDraw()) {
            gameOver = true;
            setStatus("It's a draw!");
            return;
          }

          currentPlayer = currentPlayer === "X" ? "O" : "X";
          setStatus(`Player ${currentPlayer}'s turn`);
        }

        function resetGame() {
          board = Array(9).fill("");
          currentPlayer = "X";
          gameOver = false;
          cells.forEach((cell) => (cell.textContent = ""));
          setStatus("Player X's turn");
        }

        cells.forEach((cell) => {
          cell.addEventListener("click", () => {
            const idx = Number(cell.getAttribute("data-index"));
            handleMove(idx);
          });
        });

        resetBtn.addEventListener("click", resetGame);
      })();
    </script>
  </body>
</html>
