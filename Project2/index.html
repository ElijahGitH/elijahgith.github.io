<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tic Tac Toe (1v1)</title>

    <style>
      #board {
        display: grid;
        grid-template-columns: repeat(3, 80px);
        gap: 6px;
        margin: 12px 0;
      }
      .cell {
        width: 80px;
        height: 80px;
        font-size: 32px;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Tic Tac Toe (1v1)</h1>
      <p id="status" aria-live="polite">Player X's turn</p>
    </header>

    <main>
      <section aria-label="Tic Tac Toe board">
        <div id="board" role="grid" aria-label="3 by 3 game board">
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
          <button class="cell" type="button"></button>
        </div>
      </section>

      <section aria-label="Game controls">
        <button id="reset" type="button">Reset Game</button>
      </section>


    <script>
      let currentPlayer = "X";
      let gameOver = false;
      let board = ["", "", "", "", "", "", "", "", ""];

      const cells = document.querySelectorAll(".cell");
      const statusText = document.getElementById("status");
      const resetBtn = document.getElementById("reset");

      const wins = [
        [0, 1, 2],
        [3, 4, 5],
        [6, 7, 8],
        [0, 3, 6],
        [1, 4, 7],
        [2, 5, 8],
        [0, 4, 8],
        [2, 4, 6],
      ];

      function setStatus(message) {
        statusText.textContent = message;
      }

      function checkWinner() {
        for (let i = 0; i < wins.length; i++) {
          const a = wins[i][0];
          const b = wins[i][1];
          const c = wins[i][2];

          if (board[a] !== "" && board[a] === board[b] && board[a] === board[c]) {
            return board[a];
          }
        }
        return "";
      }

      function checkDraw() {
        for (let i = 0; i < board.length; i++) {
          if (board[i] === "") return false;
        }
        return true;
      }

      function handleClick(index) {
        if (gameOver) return;
        if (board[index] !== "") return;

        board[index] = currentPlayer;
        cells[index].textContent = currentPlayer;

        const winner = checkWinner();
        if (winner !== "") {
          gameOver = true;
          setStatus("Player " + winner + " wins!");
          setTimeout(function () {
            alert("Player " + winner + " wins!");
          }, 10);
          return;
        }

        if (checkDraw()) {
          gameOver = true;
          setStatus("It's a draw!");
          setTimeout(function () {
            alert("It's a draw!");
          }, 10);
          return;
        }

        if (currentPlayer === "X") {
          currentPlayer = "O";
        } else {
          currentPlayer = "X";
        }

        setStatus("Player " + currentPlayer + "'s turn");
      }

      function resetGame() {
        currentPlayer = "X";
        gameOver = false;
        board = ["", "", "", "", "", "", "", "", ""];

        for (let i = 0; i < cells.length; i++) {
          cells[i].textContent = "";
        }

        setStatus("Player X's turn");
      }

      for (let i = 0; i < cells.length; i++) {
        cells[i].onclick = function () {
          handleClick(i);
        };
      }

      resetBtn.onclick = function () {
        resetGame();
      };
    </script>
  </body>
</html>
